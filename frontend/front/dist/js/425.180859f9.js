"use strict";(self["webpackChunkwebwork"]=self["webpackChunkwebwork"]||[]).push([[425],{6425:function(s,e,a){a.r(e),a.d(e,{default:function(){return d}});var t=function(){var s=this,e=s._self._c;return e("div",{staticClass:"forgetPassword"},[e("el-container",[e("el-main",[e("div",{staticClass:"container"},[e("div",{staticClass:"login-form"},[e("h3",[s._v("修改密码")]),e("form",{on:{submit:function(e){return e.preventDefault(),s.changePassword.apply(null,arguments)}}},[e("div",{staticClass:"changeDisplay border2"},[e("el-input",{attrs:{placeholder:"用户名"},model:{value:s.username,callback:function(e){s.username=e},expression:"username"}}),e("el-input",{attrs:{type:"email",placeholder:"邮箱"},model:{value:s.email,callback:function(e){s.email=e},expression:"email"}})],1),e("div",{staticClass:"changeDisplay border3"},[e("el-input",{attrs:{type:"password",placeholder:"新密码"},model:{value:s.newPassword,callback:function(e){s.newPassword=e},expression:"newPassword"}}),e("el-input",{attrs:{type:"password",placeholder:"确认密码"},model:{value:s.confirmPassword,callback:function(e){s.confirmPassword=e},expression:"confirmPassword"}})],1),e("div",{staticClass:"clear"}),e("div",{staticClass:"register"},[e("div",[e("button",{staticClass:"useButton",attrs:{type:"submit"}},[s._v("修改密码")])]),e("div",[e("router-link",{staticClass:"regist",attrs:{to:"/"}},[s._v("返回登陆界面")])],1)])])])])])],1)],1)},r=[],i=(a(4114),{data(){return{username:"",email:"",newPassword:"",confirmPassword:""}},mounted(){document.body.classList.add("loginBac")},destroyed(){document.body.classList.remove("loginBac")},methods:{changePassword(){if(this.username&&this.email&&this.newPassword&&this.confirmPassword)if(this.newPassword.length<5||this.newPassword.length>8)this.$message.error("密码长度必须在5到8位之间");else if(this.newPassword===this.confirmPassword){const s={username:this.username,email:this.email,newPassword:this.newPassword};this.$axios.post("/reset-password",s).then((s=>{console.log(s.data),3e4===s.data.code?(this.$router.push("/login-main"),this.$message.success(s.data.msg)):this.$message.error(s.data.msg)})).catch((s=>{this.$message.error(s.response.data.msg)}))}else this.$message.error("两次密码不一致");else this.$message.error("用户名和密码不能为空")}}}),o=i,n=a(1656),l=(0,n.A)(o,t,r,!1,null,"3528ea58",null),d=l.exports}}]);
//# sourceMappingURL=425.180859f9.js.map