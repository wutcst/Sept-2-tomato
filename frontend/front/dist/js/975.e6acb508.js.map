{"version":3,"file":"js/975.e6acb508.js","mappings":"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","sources":["webpack://webwork/./src/views/login/registerMain.vue","webpack://webwork/src/views/login/registerMain.vue","webpack://webwork/./src/views/login/registerMain.vue?3814","webpack://webwork/./src/views/login/registerMain.vue?86d7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"regist-main\"},[_c('el-container',[_c('el-main',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"login-form\"},[_c('h3',[_vm._v(\"注册\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.register.apply(null, arguments)}}},[_c('div',{staticClass:\"changeDisplay border2\"},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('el-input',{attrs:{\"type\":\"email\",\"placeholder\":\"电子邮箱\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('el-date-picker',{attrs:{\"placeholder\":\"日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.birthdate),callback:function ($$v) {_vm.birthdate=$$v},expression:\"birthdate\"}})],1),_c('div',{staticClass:\"changeDisplay border3\"},[_c('div',{staticClass:\"textUse\"},[_c('h6',{staticClass:\"hStyle\"},[_vm._v(\"请上传图像\")])]),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://localhost:8080/avatar\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"on-error\":_vm.handleAvatarError}},[(_vm.url)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.url}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('div',{staticClass:\"reRegist\"}),_c('div',{staticClass:\"clear\"}),_c('div',{staticClass:\"register\"},[_c('div',[_c('button',{staticClass:\"useButton\",attrs:{\"type\":\"submit\"}},[_vm._v(\"注册\")])]),_c('div',[_c('router-link',{staticClass:\"regist\",attrs:{\"to\":\"/\"}},[_vm._v(\"返回登录界面\")])],1)])])])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"regist-main\">\r\n        <el-container>\r\n            <el-main>\r\n                <div class=\"container\">\r\n                    <div class=\"login-form\">\r\n                        <h3>注册</h3>\r\n                        <!-- 使用form元素包裹注册表单 -->\r\n                        <form @submit.prevent=\"register\">\r\n                            <div class=\"changeDisplay border2\">\r\n                                <el-input placeholder=\"用户名\" v-model=\"username\"></el-input>\r\n                                <el-input type=\"password\" placeholder=\"密码\" v-model=\"password\"></el-input>\r\n                                <el-input type=\"email\" placeholder=\"电子邮箱\" v-model=\"email\"></el-input>\r\n                                <el-date-picker placeholder=\"日期\" v-model=\"birthdate\" :picker-options=\"pickerOptions\">\r\n                                </el-date-picker>\r\n                            </div>\r\n                            <div class=\"changeDisplay border3\">\r\n                                <div class=\"textUse\">\r\n                                    <h6 class=\"hStyle\">请上传图像</h6>\r\n                                </div>\r\n                                <el-upload class=\"avatar-uploader\" action=\"http://localhost:8080/avatar\"\r\n                                    :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\"\r\n                                    :before-upload=\"beforeAvatarUpload\" :on-error=\"handleAvatarError\">\r\n                                    <img v-if=\"url\" :src=\"url\" class=\"avatar\">\r\n                                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                                </el-upload>\r\n                            </div>\r\n                            <div class=\"reRegist\"></div>\r\n                            <div class=\"clear\"></div>\r\n\r\n                            <div class=\"register\">\r\n                                <!-- 将按钮类型改为submit -->\r\n                                <div><button type=\"submit\" class=\"useButton\">注册</button></div>\r\n                                <div><router-link to=\"/\" class=\"regist\">返回登录界面</router-link></div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </el-main>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                url: '',\r\n                imgID: '',\r\n                username: '',\r\n                password: '',\r\n                email: '',\r\n                birthdate: '',\r\n                pickerOptions: {\r\n                    disabledDate(time) {\r\n                        // Disable dates after today\r\n                        return time.getTime() > Date.now();\r\n                    }\r\n                }\r\n            };\r\n        },\r\n        mounted() {\r\n            document.body.classList.add('loginBac');\r\n        },\r\n        destroyed() {\r\n            document.body.classList.remove('loginBac');\r\n        },\r\n        methods: {\r\n            // 验证邮箱格式\r\n            validateEmail(email) {\r\n                const emailRegex = /\\S+@\\S+\\.\\S+/;\r\n                return emailRegex.test(email);\r\n            },\r\n\r\n            // 验证电话号码位数\r\n            validatePhoneNumber(phoneNumber) {\r\n                const phoneRegex = /^\\d{11}$/;\r\n                return phoneRegex.test(phoneNumber);\r\n            },\r\n            handleAvatarSuccess(res, file) {\r\n                console.log(file);\r\n                this.url = URL.createObjectURL(file.raw);\r\n                if (res.code === 0) {\r\n                    this.$message.success(res.msg);\r\n                    this.imgID = res.imgID;\r\n                }\r\n                else this.$message.error(res.msg);\r\n            },\r\n            handleAvatarError(res) {\r\n                this.$message.error(res);\r\n            },\r\n            beforeAvatarUpload(file) {\r\n                const isJPG = file.type === 'image/jpeg';\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n                if (!isJPG) {\r\n                    this.$message.error('上传头像图片只能是 JPG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                }\r\n                return isJPG && isLt2M;\r\n            },\r\n            register() {\r\n                if (!this.validateEmail(this.email)) {\r\n                    this.$message.error('请输入有效的邮箱地址！');\r\n                    return;\r\n                }\r\n\r\n                if (this.password.length < 5 || this.password.length > 8) {\r\n                    this.$message.error('密码长度必须在5-8位之间！');\r\n                    return;\r\n                }\r\n\r\n                // 格式化日期\r\n                const formattedDate = this.formatDate(this.birthdate);\r\n\r\n                // 发送注册请求到后端\r\n                axios.post('http://localhost:8080/register', {\r\n                    name: this.username,\r\n                    password: this.password,\r\n                    email: this.email,\r\n                    time: formattedDate,\r\n                    url: this.imgID\r\n                })\r\n                    .then(response => {\r\n                        if (response.data.code === 400 || response.data.code === 401 || response.data.code === 500) {\r\n                            this.$message.error(response.data.msg); // 显示失败消息\r\n                        } else {\r\n                            this.$message.success(response.data.msg);\r\n                            this.$router.push(\"/login-main\");\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        this.$message.error(error.response.data.msg);\r\n                    });\r\n            },\r\n            formatDate(date) {\r\n                // 创建一个新的 Date 对象，使用传入的日期字符串\r\n                const dateObject = new Date(date);\r\n\r\n                // 提取日期部分（年、月、日），不包括时分秒\r\n                const year = dateObject.getFullYear();\r\n                const month = dateObject.getMonth() + 1; // 月份从0开始，需要加1\r\n                const day = dateObject.getDate();\r\n\r\n                // 将月份和日期补齐成两位数形式\r\n                const formattedMonth = month < 10 ? '0' + month : month;\r\n                const formattedDay = day < 10 ? '0' + day : day;\r\n\r\n                // 格式化成 YYYY-MM-DD 的形式\r\n                return `${year}-${formattedMonth}-${formattedDay}`;\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    @import url(\"../../assets/css/css_mine.css\");\r\n\r\n    .el-date-editor.el-input,\r\n    .el-date-editor.el-input__inner {\r\n        width: 100%;\r\n    }\r\n\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #fff;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409eff;\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        background-color: #fff;\r\n        width: 178px;\r\n        height: 133px;\r\n        line-height: 138px;\r\n        text-align: center;\r\n        border: 1px solid #dcdfe6;\r\n        border-radius: 4px;\r\n    }\r\n\r\n    .hStyle {\r\n        text-align: center;\r\n        margin: 0px;\r\n    }\r\n\r\n    @media screen and (max-width: 800px) {\r\n        .avatar-uploader-icon {\r\n            margin-left: -13%;\r\n        }\r\n\r\n        .textUse {\r\n            margin-left: -8%;\r\n        }\r\n\r\n        .hStyle {\r\n            margin-left: 4%;\r\n        }\r\n    }\r\n\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./registerMain.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./registerMain.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./registerMain.vue?vue&type=template&id=415aedf1&scoped=true\"\nimport script from \"./registerMain.vue?vue&type=script&lang=js\"\nexport * from \"./registerMain.vue?vue&type=script&lang=js\"\nimport style0 from \"./registerMain.vue?vue&type=style&index=0&id=415aedf1&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"415aedf1\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","on","$event","preventDefault","register","apply","arguments","attrs","model","value","username","callback","$$v","expression","password","email","pickerOptions","birthdate","handleAvatarSuccess","beforeAvatarUpload","handleAvatarError","url","staticRenderFns","data","imgID","disabledDate","time","getTime","Date","now","mounted","document","body","classList","add","destroyed","remove","methods","validateEmail","emailRegex","test","validatePhoneNumber","phoneNumber","phoneRegex","res","file","console","log","URL","createObjectURL","raw","code","$message","success","msg","error","isJPG","type","isLt2M","size","length","formattedDate","formatDate","axios","post","name","then","response","$router","push","catch","date","dateObject","year","getFullYear","month","getMonth","day","getDate","formattedMonth","formattedDay","component"],"sourceRoot":""}