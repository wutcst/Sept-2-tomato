{"version":3,"file":"js/947.a94d5ea5.js","mappings":"sIAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,eAAe,CAACA,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMC,EAAQ,OAAiC,IAAM,QAAQJ,EAAG,KAAK,CAACF,EAAIO,GAAG,UAAUL,EAAG,OAAO,CAACM,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,MAAMC,MAAM,KAAMC,UAAU,IAAI,CAACX,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,OAAOS,MAAM,CAACC,MAAOf,EAAIgB,SAAUC,SAAS,SAAUC,GAAMlB,EAAIgB,SAASE,CAAG,EAAEC,WAAW,cAAcjB,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAW,YAAc,MAAMS,MAAM,CAACC,MAAOf,EAAIoB,SAAUH,SAAS,SAAUC,GAAMlB,EAAIoB,SAASF,CAAG,EAAEC,WAAW,cAAcjB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,cAAc,WAAW,CAACL,EAAIO,GAAG,SAAS,IAAI,GAAGL,EAAG,MAAM,CAACE,YAAY,UAAUF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,iBAAiB,CAACL,EAAIO,GAAG,SAAS,GAAGL,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,qBAAqB,CAACL,EAAIO,GAAG,YAAY,cAAc,IAAI,EACtrC,EACIc,EAAkB,G,SC6CtB,SACAC,KAAA,WACA,OAEAN,SAAA,GAEAI,SAAA,GAEA,EACAG,QAAA,WAEAC,SAAAC,KAAAC,UAAAC,IAAA,WACA,EACAC,UAAA,WAEAJ,SAAAC,KAAAC,UAAAG,OAAA,WACA,EACAC,QAAA,CAEAnB,MAAA,eAAAoB,EAAA,KAEA,KAAAC,OAAAC,KAAA,yCACAC,WAAA,KAAAlB,SACAmB,SAAA,KAAAf,WAEAgB,MAAA,SAAAC,GAEAC,QAAAC,IAAAF,EAAAf,MACA,MAAAe,EAAAf,KAAAkB,MAEAC,aAAAC,QAAA,QAAAL,EAAAf,KAAAA,KAAA,IACAmB,aAAAC,QAAA,aAAAL,EAAAf,KAAAA,KAAA,IAEAS,EAAAY,QAAAC,KAAA,cAEAb,EAAAc,SAAAC,QAAAT,EAAAf,KAAAyB,UAGAhB,EAAAc,SAAAG,MAAAX,EAAAf,KAAAyB,QAEA,cACA,SAAAC,GAEAjB,EAAAc,SAAAG,MAAA,YACAV,QAAAU,MAAA,QAAAA,EACA,GACA,IC7FiQ,I,eCQ7PC,GAAY,OACd,EACAlD,EACAsB,GACA,EACA,KACA,WACA,MAIF,QAAe4B,EAAiB,O","sources":["webpack://webwork/./src/views/login/loginMain.vue","webpack://webwork/src/views/login/loginMain.vue","webpack://webwork/./src/views/login/loginMain.vue?6867","webpack://webwork/./src/views/login/loginMain.vue?9bed"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-main\"},[_c('el-container',[_c('el-main',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"login-form\"},[_c('div',{staticClass:\"title\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/title.png\"),\"alt\":\"\"}})]),_c('h2',[_vm._v(\"登陆界面\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('div',{staticClass:\"changeDisplay loginPart\"},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"login\"},[_c('el-button',{attrs:{\"type\":\"success\",\"native-type\":\"submit\"}},[_vm._v(\"登录\")])],1)],1),_c('div',{staticClass:\"clear\"}),_c('div',{staticClass:\"register\"},[_c('div',[_c('router-link',{staticClass:\"regist\",attrs:{\"to\":\"/regist-main\"}},[_vm._v(\"注册\")])],1),_c('div',[_c('router-link',{staticClass:\"regist\",attrs:{\"to\":\"/forget-password\"}},[_vm._v(\"忘记密码？\")])],1)])])])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n作者: Tzpeach3\r\n日期: 2024-06-27\r\n作用: 登录页面组件。包含一个供用户输入用户名和密码的表单，并通过向后端发送请求来处理登录过程。\r\n-->\r\n\r\n<template>\r\n    <div class=\"login-main\">\r\n        <el-container>\r\n            <el-main>\r\n                <div class=\"container\">\r\n                    <div class=\"login-form\">\r\n                        <div class=\"title\">\r\n                            <!-- 标题图片 -->\r\n                            <img src=\"../../assets/images/title.png\" alt=\"\">\r\n                        </div>\r\n                        <!-- 页面标题 -->\r\n                        <h2>登陆界面</h2>\r\n                        <!-- 使用form元素包裹登录表单 -->\r\n                        <form @submit.prevent=\"login\">\r\n                            <div class=\"changeDisplay loginPart\">\r\n                                <!-- 用户名输入框 -->\r\n                                <el-input placeholder=\"用户名\" v-model=\"username\"></el-input>\r\n                                <!-- 密码输入框 -->\r\n                                <el-input type=\"password\" placeholder=\"密码\" v-model=\"password\"></el-input>\r\n                                <div class=\"login\">\r\n                                    <!-- 登录按钮，类型为submit -->\r\n                                    <el-button type=\"success\" native-type=\"submit\">登录</el-button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"clear\"></div>\r\n\r\n                            <!-- 注册和忘记密码链接 -->\r\n                            <div class=\"register\">\r\n                                <div><router-link to=\"/regist-main\" class=\"regist\">注册</router-link></div>\r\n                                <div><router-link to=\"/forget-password\" class=\"regist\">忘记密码？</router-link></div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </el-main>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                // 用户名\r\n                username: '',\r\n                // 密码\r\n                password: ''\r\n            };\r\n        },\r\n        mounted() {\r\n            // 添加背景样式\r\n            document.body.classList.add('loginBac');\r\n        },\r\n        destroyed() {\r\n            // 移除背景样式\r\n            document.body.classList.remove('loginBac');\r\n        },\r\n        methods: {\r\n            // 登录方法\r\n            login() {\r\n                // 发送登录请求到后端\r\n                this.$axios.post('http://10.78.250.34:8081/player/login', {\r\n                    playerName: this.username,\r\n                    passWord: this.password\r\n                })\r\n                .then(response => {\r\n                    // 处理登录成功的情况\r\n                    console.log(response.data);\r\n                    if (response.data.code === 200) { // 根据后端返回的状态码判断请求是否成功\r\n                        // 将用户的id存储到localStorage中\r\n                        localStorage.setItem('token', response.data.data[0]);\r\n                        localStorage.setItem('playerName', response.data.data[1]);\r\n                        // 跳转到主页\r\n                        this.$router.push(\"/home-main\");\r\n                        // 显示成功消息\r\n                        this.$message.success(response.data.message); \r\n                    } else {\r\n                        // 显示失败消息\r\n                        this.$message.error(response.data.message); \r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    // 处理登录失败的情况\r\n                    this.$message.error('登录失败，请重试');\r\n                    console.error('登录错误:', error);\r\n                });\r\n            },\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    @import url(\"../../assets/css/css_mine.css\");\r\n    h2 {\r\n        margin-left: 150px;\r\n        margin-right: 150px;\r\n        border-radius: 10px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./loginMain.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./loginMain.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./loginMain.vue?vue&type=template&id=497348de&scoped=true\"\nimport script from \"./loginMain.vue?vue&type=script&lang=js\"\nexport * from \"./loginMain.vue?vue&type=script&lang=js\"\nimport style0 from \"./loginMain.vue?vue&type=style&index=0&id=497348de&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"497348de\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","require","_v","on","$event","preventDefault","login","apply","arguments","model","value","username","callback","$$v","expression","password","staticRenderFns","data","mounted","document","body","classList","add","destroyed","remove","methods","_this","$axios","post","playerName","passWord","then","response","console","log","code","localStorage","setItem","$router","push","$message","success","message","error","component"],"sourceRoot":""}