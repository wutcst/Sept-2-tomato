{"version":3,"file":"js/873.66d7edd5.js","mappings":"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,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAGR,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,MAER,CACEF,UAAW,WACXE,KAAM,QC/Nd,SACA3H,KAAA,WACA,OACAoG,eAAA,EACAkB,oBAAA,EACAjB,YAAA,IACAC,SAAA,GACAY,WAAA,GACAK,SAAAA,EACAK,GAAA,KAEA,EACAvG,QAAA,WAEA,KAAAwG,oBACA,EACArG,QAAA,CAEA2E,SAAA,WACA,KAAAC,eAAA,CACA,EAGAK,gBAAA,WACA,KAAAa,oBAAA,CACA,EAGAI,YAAA,SAAAF,GACA,KAAAN,YAAAM,CACA,EAGAK,mBAAA,eAAApG,EAAA,KAEA,KAAAm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","sources":["webpack://webwork/./src/views/home/homeMain.vue","webpack://webwork/./src/views/home/game/mainContent.vue","webpack://webwork/src/views/home/game/mainContent.vue","webpack://webwork/./src/views/home/game/mainContent.vue?c699","webpack://webwork/./src/views/home/game/mainContent.vue?fc56","webpack://webwork/./src/views/home/game/appSidebar.vue","webpack://webwork/./src/views/home/game/mapLayer.vue","webpack://webwork/src/views/home/game/mapLayer.vue","webpack://webwork/./src/views/home/game/mapLayer.vue?b9ff","webpack://webwork/./src/views/home/game/mapLayer.vue?8ad0","webpack://webwork/src/views/home/game/appSidebar.vue","webpack://webwork/./src/views/home/game/appSidebar.vue?73d9","webpack://webwork/./src/views/home/game/appSidebar.vue?6d43","webpack://webwork/./src/views/home/chat/chatMain.vue","webpack://webwork/./src/assets/js/emojiArr.js","webpack://webwork/src/views/home/chat/chatMain.vue","webpack://webwork/./src/views/home/chat/chatMain.vue?7bb5","webpack://webwork/./src/views/home/chat/chatMain.vue?1f8c","webpack://webwork/src/views/home/homeMain.vue","webpack://webwork/./src/views/home/homeMain.vue?c21e","webpack://webwork/./src/views/home/homeMain.vue?eefa"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"home-container\"},[_c('el-container',[_c('el-main',{staticClass:\"main-content\"},[_c('main-content',{attrs:{\"currentRoomId\":_vm.currentRoomId}}),_c('div',{staticClass:\"main-chat\"},[_c('main-chat')],1),_c('div',{staticClass:\"button-container\"},[_c('el-button',{staticClass:\"exit\",on:{\"click\":function($event){_vm.showExitDialog = true}}},[_vm._v(\"退出游戏\")]),_c('el-button',{staticClass:\"back\",on:{\"click\":function($event){return _vm.move('back')}}},[_vm._v(\"返回\")])],1),_c('div',{staticClass:\"dialog-container\"},[_c('div',{staticClass:\"dialog\"},[_c('div',{staticClass:\"dialog-content\"},[_c('img',{attrs:{\"width\":\"100px\",\"src\":require(\"../../assets/images/npc.jpg\"),\"alt\":\"\"}}),_c('div',{staticClass:\"text-display\"},[_c('p',[_vm._v(_vm._s(_vm.displayedText))])])]),_c('div',{staticClass:\"controls\"},[_c('div',{staticClass:\"row\"},[_c('el-button',{staticClass:\"north\",on:{\"click\":function($event){return _vm.move('north')}}},[_vm._v(\"北\")])],1),_c('div',{staticClass:\"row\"},[_c('el-button',{staticClass:\"west\",on:{\"click\":function($event){return _vm.move('west')}}},[_vm._v(\"西\")]),_c('el-button',{staticClass:\"stay\",on:{\"click\":function($event){return _vm.move('stay')}}},[_vm._v(\"S\")]),_c('el-button',{staticClass:\"east\",on:{\"click\":function($event){return _vm.move('east')}}},[_vm._v(\"东\")])],1),_c('div',{staticClass:\"row\"},[_c('el-button',{staticClass:\"south\",on:{\"click\":function($event){return _vm.move('south')}}},[_vm._v(\"南\")])],1)])])])],1),_c('el-aside',{staticClass:\"sidebar-container\",attrs:{\"width\":\"300px\"}},[_c('app-sidebar'),_c('img',{attrs:{\"src\":require(\"../../assets/images/Zoo.png\"),\"alt\":\"\"}}),_c('h2',{staticClass:\"location\"},[_c('span',[_vm._v(_vm._s(_vm.locationMap[_vm.currentRoomId]))])])],1)],1),_c('el-dialog',{attrs:{\"title\":\"确认退出\",\"visible\":_vm.showExitDialog,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.showExitDialog=$event},\"close\":function($event){_vm.showExitDialog = false}}},[_c('span',[_vm._v(\"您确定要退出游戏吗？\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showExitDialog = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmExit}},[_vm._v(\"确认\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-content\",style:({ backgroundImage: `url(${_vm.currentLocation.backgroundImage})` })},[_c('div',{staticClass:\"map\"},[(_vm.currentLocation.items.length > 0)?_c('div',{staticClass:\"items\"},_vm._l((_vm.currentLocation.items),function(item,index){return _c('div',{key:item.id + '-' + index,staticClass:\"item\",on:{\"mouseenter\":function($event){return _vm.showTooltip(index)},\"mouseleave\":_vm.hideTooltip}},[_c('img',{attrs:{\"src\":item.imageId,\"alt\":item.name}}),_c('p',[_vm._v(_vm._s(item.name))]),(_vm.tooltipIndex === index && !_vm.takingItem)?_c('div',{staticClass:\"tooltip\"},[_c('p',[_vm._v(\"名称: \"+_vm._s(item.name))]),_c('p',[_vm._v(\"描述: \"+_vm._s(item.description))]),_c('p',[_vm._v(\"重量: \"+_vm._s(item.weight))]),_c('p',[_vm._v(\"物品类型： \"+_vm._s(item.isMagic === 1 ? '魔法物品' : item.isMagic === 2 ? '永久物品' : '一次性物品')+\" \")]),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.takeItem(index)}}},[_vm._v(\"拿取\")])]):_vm._e()])}),0):_c('div',[_c('p',[_vm._v(\"当前位置没有可获取的物品。\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n作者: Tzpeach3\r\n日期: 2024-06-27\r\n作用: 展示和操作当前房间内物品的组件，提供物品的提示信息和拿取功能。\r\n-->\r\n\r\n<template>\r\n    <!-- 主内容容器，背景图根据当前地点的背景图动态变化 -->\r\n    <div class=\"main-content\" :style=\"{ backgroundImage: `url(${currentLocation.backgroundImage})` }\">\r\n        <div class=\"map\">\r\n            <!-- 判断当前位置是否有物品 -->\r\n            <div v-if=\"currentLocation.items.length > 0\" class=\"items\">\r\n                <!-- 遍历当前地点的物品 -->\r\n                <div class=\"item\" v-for=\"(item, index) in currentLocation.items\" :key=\"item.id + '-' + index\"\r\n                    @mouseenter=\"showTooltip(index)\" @mouseleave=\"hideTooltip\">\r\n                    <!-- 物品图片和名称 -->\r\n                    <img :src=\"item.imageId\" :alt=\"item.name\" />\r\n                    <p>{{ item.name }}</p>\r\n                    <!-- 物品信息的提示框 -->\r\n                    <div v-if=\"tooltipIndex === index && !takingItem\" class=\"tooltip\">\r\n                        <p>名称: {{ item.name }}</p>\r\n                        <p>描述: {{ item.description }}</p>\r\n                        <p>重量: {{ item.weight }}</p>\r\n                        <p>物品类型：\r\n                            {{\r\n                            item.isMagic === 1 ? '魔法物品' :\r\n                            item.isMagic === 2 ? '永久物品' :\r\n                            '一次性物品'\r\n                            }}\r\n                        </p>\r\n                        <!-- 拿取按钮 -->\r\n                        <button @click.stop=\"takeItem(index)\">拿取</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-else>\r\n                <!-- 没有物品时显示的信息 -->\r\n                <p>当前位置没有可获取的物品。</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n    import mapImage from '../../../assets/images/map.jpg';\r\n    import bananaImage from '../../../assets/images/banana.jpg';\r\n    import cookieImage from '../../../assets/images/cookie.jpg';\r\n    import meatImage from '../../../assets/images/meat.jpg';\r\n    import shitImage from '../../../assets/images/shit.png';\r\n    import zooGate from '../../../assets/images/zooGate.jpg';\r\n    import monkeyZone from '../../../assets/images/monkeyZone.jpg';\r\n    import lionZone from '../../../assets/images/lionZone.jpg';\r\n    import elephantZone from '../../../assets/images/elephantZone.jpg';\r\n    import panadaZone from '../../../assets/images/panadaZone.jpg';\r\n    import zooExport from '../../../assets/images/export.jpg';\r\n\r\n    export default {\r\n        props: {\r\n            currentRoomId: {\r\n                type: Number,\r\n                required: true\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                locationMap: {\r\n                    1: {\r\n                        name: '入口',\r\n                        backgroundImage: zooGate,\r\n                        items: [],\r\n                    },\r\n                    2: {\r\n                        name: '猴子园区',\r\n                        backgroundImage: monkeyZone,\r\n                        items: [],\r\n                    },\r\n                    3: {\r\n                        name: '狮子园区',\r\n                        backgroundImage: lionZone,\r\n                        items: [],\r\n                    },\r\n                    4: {\r\n                        name: '大象园区',\r\n                        backgroundImage: elephantZone,\r\n                        items: [],\r\n                    },\r\n                    5: {\r\n                        name: '熊猫园区',\r\n                        backgroundImage: panadaZone,\r\n                        items: [],\r\n                    },\r\n                    6: {\r\n                        name: '出口',\r\n                        backgroundImage: zooExport,\r\n                        items: [],\r\n                    },\r\n                },\r\n                itemMap: {\r\n                    1: { id: 1, name: '地图', imageId: mapImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                    2: { id: 2, name: '香蕉', imageId: bananaImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                    3: { id: 3, name: '魔法饼干', imageId: cookieImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                    4: { id: 4, name: '生肉', imageId: meatImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                    5: { id: 5, name: '大便', imageId: shitImage, color: '#ffcc99', borderColor: '#cc9966' }\r\n                },\r\n                tooltipIndex: null, // 当前提示框的索引\r\n                takingItem: false // 是否正在拿取物品的标志\r\n            };\r\n        },\r\n        computed: {\r\n            // 计算当前地点\r\n            currentLocation() {\r\n                return this.locationMap[this.currentRoomId] || this.locationMap[1];\r\n            }\r\n        },\r\n        watch: {\r\n            currentRoomId: {\r\n                handler(newVal) {\r\n                    this.updateLocation(newVal); // 房间ID变化时更新当前地点信息\r\n                },\r\n                immediate: true // 立即执行监听器\r\n            }\r\n        },\r\n        created() {\r\n            this.listenDropItem(); // 组件创建时监听放下物品事件\r\n            this.listenUpdateItem(); // 组件创建时监听更新物品事件\r\n        },\r\n        methods: {\r\n            // 监听放下物品事件\r\n            listenDropItem() {\r\n                this.$root.$on('drop-item', () => {\r\n                    this.updateLocation(this.currentRoomId); // 放下物品后更新当前位置的物品列表\r\n                });\r\n            },\r\n            // 监听更新物品事件\r\n            listenUpdateItem() {\r\n                this.$root.$on('update-item', () => {\r\n                    this.updateLocation(this.currentRoomId); // 放下物品后更新当前位置的物品列表\r\n                });\r\n            },\r\n            // 更新当前地点的物品列表\r\n            updateLocation(roomId) {\r\n                const token = localStorage.getItem('token'); // 获取用户 token\r\n                axios.post('http://10.78.250.34:8081/room/check',\r\n                    { roomID: roomId },\r\n                    { headers: { 'token': token } }\r\n                )\r\n                    .then(response => {\r\n                        const responseData = response.data;\r\n                        if (responseData.code === 200 && responseData.data) {\r\n                            const items = responseData.data.map(item => {\r\n                                return {\r\n                                    id: item.itemID,\r\n                                    name: item.itemName,\r\n                                    description: item.description,\r\n                                    isMagic: item.isMagic,\r\n                                    weight: item.weight,\r\n                                    imageId: this.itemMap[item.itemID].imageId  // 获取物品对应的图片\r\n                                };\r\n                            });\r\n                            this.$set(this.locationMap[roomId], 'items', items);\r\n                        } else {\r\n                            console.error('获取物品列表失败:', responseData.message);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('获取物品列表出错:', error);\r\n                    });\r\n            },\r\n            // 显示提示框\r\n            showTooltip(index) {\r\n                this.tooltipIndex = index;\r\n            },\r\n            // 隐藏提示框\r\n            hideTooltip() {\r\n                this.tooltipIndex = null;\r\n            },\r\n            // 拿取物品\r\n            takeItem(index) {\r\n                const item = this.currentLocation.items[index];\r\n                const token = localStorage.getItem('token'); // 获取用户 token\r\n                const playerName = localStorage.getItem('playerName'); // 获取玩家名称\r\n                axios.post('http://10.78.250.34:8081/item/take',\r\n                    {\r\n                        itemID: item.id,\r\n                        playerName: playerName\r\n                    },\r\n                    { headers: { 'token': token } }\r\n                )\r\n                    .then(response => {\r\n                        const responseData = response.data;\r\n                        if (responseData.code === 200) {\r\n                            localStorage.setItem('message', `你成功拿取${item.name}`);\r\n                            this.currentLocation.items.splice(index, 1); // 更新前端物品列表\r\n                            this.$root.$emit('take-item'); // 通知主组件拿走物品\r\n                        } else {\r\n                            localStorage.setItem('message', `拿取物品失败,你的负重剩余量不足`);\r\n                            this.$root.$emit('take-item'); // 通知主组件拿走物品\r\n                            console.error('拿取物品失败,你的负重剩余量不足:', responseData.message);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('拿取物品出错:', error);\r\n                    });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .main-content {\r\n        flex: 1;\r\n        background-color: #fff;\r\n        padding: 20px;\r\n        justify-content: flex-end;\r\n        border-radius: 10px;\r\n        margin-bottom: 10px;\r\n        background-size: cover;\r\n        background-position: center;\r\n    }\r\n\r\n    .map {\r\n        background-color: rgba(255, 255, 255, 0.7);\r\n        padding: 10px;\r\n        border-radius: 5px;\r\n    }\r\n\r\n    .items {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n    }\r\n\r\n    .item {\r\n        margin: 5px;\r\n        padding: 5px;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        /* 居中显示物品名称 */\r\n        position: relative;\r\n        /* 为了定位 tooltip */\r\n    }\r\n\r\n    .item img {\r\n        width: 80px;\r\n        height: 80px;\r\n        object-fit: cover;\r\n        border-radius: 4px;\r\n        border: 1px solid #ccc;\r\n        transition: transform 0.3s ease;\r\n    }\r\n\r\n    .item:hover img {\r\n        transform: scale(1.1);\r\n    }\r\n\r\n    .tooltip {\r\n        position: absolute;\r\n        top: -100px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        background-color: rgba(0, 0, 0, 0.7);\r\n        color: white;\r\n        padding: 10px;\r\n        border-radius: 5px;\r\n        z-index: 1000;\r\n        width: 150px;\r\n        text-align: left;\r\n    }\r\n\r\n    button {\r\n        margin-top: 10px;\r\n        padding: 5px 10px;\r\n        cursor: pointer;\r\n        background-color: #007bff;\r\n        color: white;\r\n        border: none;\r\n        border-radius: 4px;\r\n        transition: background-color 0.3s ease;\r\n    }\r\n\r\n    button:hover {\r\n        background-color: #0056b3;\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./mainContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./mainContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mainContent.vue?vue&type=template&id=61a72a34&scoped=true\"\nimport script from \"./mainContent.vue?vue&type=script&lang=js\"\nexport * from \"./mainContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./mainContent.vue?vue&type=style&index=0&id=61a72a34&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61a72a34\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sidebar\"},[_c('p',[_vm._v(\"当前负重: \"+_vm._s(_vm.usedWeight)+\"/\"+_vm._s(_vm.totalWeight))]),_c('div',{staticClass:\"inventory\"},[_vm._l((_vm.displayedInventory),function(item,index){return _c('div',{key:item.itemID + '-' + index,staticClass:\"item\",style:({ backgroundColor: item.color, border: '1px solid ' + item.borderColor }),on:{\"mouseenter\":function($event){return _vm.showTooltip(index)},\"mouseleave\":_vm.hideTooltip,\"click\":function($event){$event.stopPropagation();return _vm.toggleDropConfirmation(index)}}},[_c('img',{attrs:{\"src\":item.imageId,\"alt\":item.name}}),(_vm.tooltipIndex === index && !_vm.confirmingDrop)?_c('div',{staticClass:\"tooltip\"},[_c('p',[_vm._v(\"名称: \"+_vm._s(item.itemName))]),_c('p',[_vm._v(\"描述: \"+_vm._s(item.description))]),_c('p',[_vm._v(\"重量: \"+_vm._s(item.weight))]),_c('p',[_vm._v(\"类型： \"+_vm._s(item.isMagic === 1 ? '魔法物品' : item.isMagic === 2 ? '永久物品' : '一次性物品')+\" \")]),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.dropItem(index)}}},[_vm._v(\"放下\")]),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.useItem(index)}}},[_vm._v(\"使用\")]),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.feedItem(index)}}},[_vm._v(\"投喂\")])]):_vm._e()])}),_vm._l((_vm.emptySlots),function(n){return _c('div',{key:'empty-' + n,staticClass:\"item empty\"})})],2),_c('MapLayer',{attrs:{\"visible\":_vm.isMapLayerVisible},on:{\"close\":function($event){_vm.isMapLayerVisible = false}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.visible)?_c('div',{staticClass:\"map-layer\"},[_c('button',{on:{\"click\":_vm.closeMapLayer}},[_vm._v(\"关闭\")]),_c('img',{attrs:{\"src\":require(\"../../../assets/images/zooMap.jpg\"),\"alt\":\"地图\"}})]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n作者: Tzpeach3\r\n日期: 2024-06-27\r\n作用: 显示地图层的组件。\r\n-->\r\n\r\n<template>\r\n    <!-- 如果 visible 为 true，则显示地图层 -->\r\n    <div v-if=\"visible\" class=\"map-layer\">\r\n        <!-- 关闭按钮，点击时调用 closeMapLayer 方法 -->\r\n        <button @click=\"closeMapLayer\">关闭</button>\r\n        <!-- 地图图片 -->\r\n        <img src=\"../../../assets/images/zooMap.jpg\" alt=\"地图\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        // 接收 visible 作为 prop，用于控制地图层的显示和隐藏\r\n        props: {\r\n            visible: {\r\n                type: Boolean,\r\n                required: true\r\n            }\r\n        },\r\n        methods: {\r\n            // 关闭地图层的方法，通过 $emit 触发 'close' 事件\r\n            closeMapLayer() {\r\n                this.$emit('close');\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    /* 地图层样式 */\r\n    .map-layer {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.2); \r\n        display: flex;\r\n        justify-content: center; \r\n        align-items: center; \r\n        z-index: 1000; \r\n    }\r\n\r\n    /* 地图图片样式 */\r\n    .map-layer img {\r\n        max-width: 90%; \r\n        max-height: 90%; \r\n    }\r\n\r\n    /* 关闭按钮样式 */\r\n    .map-layer button {\r\n        position: absolute; \r\n        top: 20px; \r\n        right: 20px; \r\n        padding: 10px 20px; \r\n        font-size: 16px; \r\n        cursor: pointer; \r\n        background-color: #ff0000; \r\n        color: white; \r\n        border: none; \r\n        border-radius: 5px; \r\n        transition: background-color 0.3s ease; \r\n    }\r\n\r\n    /* 关闭按钮悬停效果 */\r\n    .map-layer button:hover {\r\n        background-color: #cc0000; \r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./mapLayer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./mapLayer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mapLayer.vue?vue&type=template&id=6ec8ea99&scoped=true\"\nimport script from \"./mapLayer.vue?vue&type=script&lang=js\"\nexport * from \"./mapLayer.vue?vue&type=script&lang=js\"\nimport style0 from \"./mapLayer.vue?vue&type=style&index=0&id=6ec8ea99&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ec8ea99\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n作者：Tzpeach3\r\n时间：2024-06-27\r\n描述：侧边栏组件，用于显示玩家背包内容和处理物品操作。\r\n-->\r\n\r\n<template>\r\n    <div class=\"sidebar\">\r\n        <p>当前负重: {{ usedWeight }}/{{ totalWeight }}</p>\r\n        <div class=\"inventory\">\r\n            <!-- 循环显示背包中的物品 -->\r\n            <div class=\"item\" v-for=\"(item, index) in displayedInventory\" :key=\"item.itemID + '-' + index\"\r\n                @mouseenter=\"showTooltip(index)\" @mouseleave=\"hideTooltip\" @click.stop=\"toggleDropConfirmation(index)\"\r\n                :style=\"{ backgroundColor: item.color, border: '1px solid ' + item.borderColor }\">\r\n                <img :src=\"item.imageId\" :alt=\"item.name\" />\r\n                <!-- 显示物品信息 -->\r\n                <div v-if=\"tooltipIndex === index && !confirmingDrop\" class=\"tooltip\">\r\n                    <p>名称: {{ item.itemName }}</p>\r\n                    <p>描述: {{ item.description }}</p>\r\n                    <p>重量: {{ item.weight }}</p>\r\n                    <p>类型：\r\n                        {{\r\n                        item.isMagic === 1 ? '魔法物品' :\r\n                        item.isMagic === 2 ? '永久物品' :\r\n                        '一次性物品'\r\n                        }}\r\n                    </p>\r\n                    <!-- 操作按钮 -->\r\n                    <button @click.stop=\"dropItem(index)\">放下</button>\r\n                    <button @click.stop=\"useItem(index)\">使用</button>\r\n                    <button @click.stop=\"feedItem(index)\">投喂</button>\r\n                </div>\r\n            </div>\r\n            <!-- 空格子占位 -->\r\n            <div class=\"item empty\" v-for=\"n in emptySlots\" :key=\"'empty-' + n\"></div>\r\n        </div>\r\n        <!-- 地图图层组件 -->\r\n        <MapLayer :visible=\"isMapLayerVisible\" @close=\"isMapLayerVisible = false\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n    import MapLayer from './mapLayer.vue'; // 导入地图图层组件\r\n    import mapImage from '../../../assets/images/map.jpg';\r\n    import bananaImage from '../../../assets/images/banana.jpg';\r\n    import cookieImage from '../../../assets/images/cookie.jpg';\r\n    import meatImage from '../../../assets/images/meat.jpg';\r\n    import shitImage from '../../../assets/images/shit.png';\r\n\r\n    export default {\r\n        name: 'AppSidebar',\r\n        components: {\r\n            MapLayer // 注册地图图层组件\r\n        },\r\n        data() {\r\n            return {\r\n                totalWeight: 100, // 最大负重\r\n                usedWeight: 0,    // 当前负重\r\n                inventory: [],    // 背包中的物品列表\r\n                items: {\r\n                    地图: { itemName: '地图', imageId: mapImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                    香蕉: { itemName: '香蕉', imageId: bananaImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                    魔法饼干: { itemName: '魔法饼干', imageId: cookieImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                    生肉: { itemName: '生肉', imageId: meatImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                    大便: { itemName: '大便', imageId: shitImage, color: '#ffcc99', borderColor: '#cc9966' },\r\n                },\r\n                maxDisplayItems: 9, // 每页最多显示的物品数量\r\n                tooltipIndex: null,\r\n                confirmingDrop: false,\r\n                itemToDropIndex: null,\r\n                isMapLayerVisible: false // 控制地图图层的显示\r\n            }\r\n        },\r\n        computed: {\r\n            displayedInventory() {\r\n                return this.inventory.slice(0, this.maxDisplayItems).map(item => {\r\n                    return {\r\n                        ...this.items[item.itemName],\r\n                        ...item\r\n                    };\r\n                });\r\n            },\r\n            emptySlots() {\r\n                return Math.max(0, this.maxDisplayItems - this.displayedInventory.length);\r\n            }\r\n        },\r\n        created() {\r\n            this.listenTakeItem(); // 组件创建时监听拿取物品事件\r\n            this.listenUpdateItem(); // 组件创建时监听更新物品事件\r\n        },\r\n        methods: {\r\n            listenTakeItem() {\r\n                this.$root.$on('take-item', () => {\r\n                    this.fetchPlayerInfo();\r\n                    this.fetchInventoryItems();\r\n                });\r\n            },\r\n            listenUpdateItem() {\r\n                this.$root.$on('update-item', () => {\r\n                    this.fetchPlayerInfo();\r\n                    this.fetchInventoryItems();\r\n                });\r\n            },\r\n            showTooltip(index) {\r\n                this.tooltipIndex = index;\r\n            },\r\n            hideTooltip() {\r\n                this.tooltipIndex = null;\r\n            },\r\n            toggleDropConfirmation(index) {\r\n                this.confirmingDrop = !this.confirmingDrop;\r\n                this.itemToDropIndex = index;\r\n            },\r\n            dropItem(index) {\r\n                const item = this.inventory[index];\r\n                const token = localStorage.getItem('token');\r\n                const playerName = localStorage.getItem('playerName');\r\n                axios.post('http://10.78.250.34:8081/item/drop', { itemID: item.itemID, playerName: playerName }, { headers: { 'token': token } })\r\n                    .then(response => {\r\n                        if (response.data.code === 200) {\r\n                            localStorage.setItem('message', `成功放下物品：${item.itemName}`);\r\n                            this.fetchPlayerInfo(); // 刷新玩家信息\r\n                            this.fetchInventoryItems(); // 刷新物品列表\r\n                            this.$root.$emit('drop-item'); // 通知主组件放下物品\r\n                        } else {\r\n                            console.error('放下物品失败:', response.data.message);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('放下物品出错:', error);\r\n                    })\r\n                    .finally(() => {\r\n                        this.confirmingDrop = false;\r\n                        this.itemToDropIndex = null;\r\n                    });\r\n            },\r\n            useItem(index) {\r\n                const item = this.inventory[index];\r\n                if (item.itemName === '地图') {\r\n                    this.isMapLayerVisible = true; // 显示地图图层\r\n                } else {\r\n                    const token = localStorage.getItem('token');\r\n                    const playerName = localStorage.getItem('playerName');\r\n                    axios.post('http://10.78.250.34:8081/item/use', { itemID: item.itemID, playerName: playerName }, { headers: { 'token': token } })\r\n                        .then(response => {\r\n                            if (response.data.code === 200) {\r\n                                this.fetchPlayerInfo(); // 刷新玩家信息\r\n                                this.fetchInventoryItems(); // 刷新物品列表\r\n                                localStorage.setItem('message', response.data.message);\r\n                                this.$root.$emit('use-item'); // 通知主组件物品已被使用\r\n                            } else {\r\n                                console.error('使用物品失败:', response.data.message);\r\n                            }\r\n                        })\r\n                        .catch(error => {\r\n                            console.error('使用物品出错:', error);\r\n                        });\r\n                }\r\n            },\r\n            // 投喂物品\r\n            feedItem(index) {\r\n                const item = this.inventory[index];\r\n                const token = localStorage.getItem('token'); // 获取用户 token\r\n                const playerName = localStorage.getItem('playerName'); // 获取玩家名称\r\n                axios.post('http://10.78.250.34:8081/item/feed',\r\n                    {\r\n                        itemID: item.itemID,\r\n                        playerName: playerName\r\n                    },\r\n                    { headers: { 'token': token } }\r\n                )\r\n                    .then(response => {\r\n                        const responseData = response.data;\r\n                        if (responseData.code === 200) {\r\n                            this.fetchPlayerInfo();\r\n                            this.fetchInventoryItems();\r\n                            localStorage.setItem('message', responseData.message);\r\n                            this.$root.$emit('feed-item'); // 通知主组件物品已被投喂\r\n                        } else {\r\n                            console.error('投喂物品失败:', responseData.message);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('投喂物品出错:', error);\r\n                    });\r\n            },\r\n            fetchPlayerInfo() {\r\n                const token = localStorage.getItem('token');\r\n                const playerName = localStorage.getItem('playerName');\r\n                axios.post('http://10.78.250.34:8081/player/getPlayerInfo', { playerName }, { headers: { 'token': token } })\r\n                    .then(response => {\r\n                        if (response.data.code === 200) {\r\n                            const data = response.data.data;\r\n                            this.usedWeight = data.currentWeight;\r\n                            this.totalWeight = data.maxCarryWeight;\r\n                        } else {\r\n                            console.error('获取玩家信息失败:', response.data.message);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('获取玩家信息出错:', error);\r\n                    });\r\n            },\r\n            fetchInventoryItems() {\r\n                // 获取本地存储的用户 token\r\n                const token = localStorage.getItem('token');\r\n                // 获取本地存储的玩家名称\r\n                const playerName = localStorage.getItem('playerName');\r\n                \r\n                // 发起 POST 请求获取玩家背包中的物品信息\r\n                axios.post('http://10.78.250.34:8081/item/getItems', { playerName }, { headers: { 'token': token } })\r\n                    .then(response => {\r\n                        // 如果返回的状态码为 200，则表示请求成功\r\n                        if (response.data.code === 200) {\r\n                            // 将返回的物品列表数据赋值给组件的 inventory 数据属性\r\n                            this.inventory = response.data.data;\r\n                            // 计算当前背包中已使用的总重量\r\n                            this.usedWeight = this.inventory.reduce((acc, item) => acc + item.weight, 0);\r\n                        } else {\r\n                            // 如果请求失败，输出错误信息到控制台\r\n                            console.error('获取背包物品失败:', response.data.message);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        // 如果请求出现错误，输出错误信息到控制台\r\n                        console.error('获取背包物品出错:', error);\r\n                    });\r\n            },\r\n            selectItem(index) {\r\n                console.log('选中了物品：', this.inventory[index]);\r\n            }\r\n        },\r\n        mounted() {\r\n            this.fetchPlayerInfo();\r\n            this.fetchInventoryItems();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .sidebar {\r\n        border-radius: 10px;\r\n        opacity: 0.7;\r\n        background: url('../../../assets/images/bag.jpg') no-repeat;\r\n        background-size: cover;\r\n        padding: 5px;\r\n        margin: 20px;\r\n        margin-bottom: 0px;\r\n    }\r\n\r\n    .inventory {\r\n        display: grid;\r\n        grid-template-columns: repeat(3, 1fr);\r\n        /* 背包格子布局，每行3个格子 */\r\n        gap: 10px;\r\n        /* 格子之间的间隔 */\r\n    }\r\n\r\n    button {\r\n        font-size: 10px;\r\n    }\r\n\r\n    .item {\r\n        position: relative;\r\n        width: 60px;\r\n        height: 60px;\r\n        margin-left: 10px;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        transition: background-color 0.3s ease, border-color 0.3s ease;\r\n        /* 添加过渡效果 */\r\n    }\r\n\r\n    .item.empty {\r\n        background-color: transparent;\r\n        border: 1px dashed #ccc;\r\n        /* 空格子的边框样式 */\r\n    }\r\n\r\n    .item img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n    }\r\n\r\n    /* 鼠标悬停时改变背景颜色和边框颜色 */\r\n    .item:hover {\r\n        background-color: #fff;\r\n        border-color: #999;\r\n    }\r\n\r\n    .tooltip {\r\n        position: absolute;\r\n        font-size: 10px;\r\n        top: -100px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        background-color: rgba(0, 0, 0, 0.7);\r\n        color: white;\r\n        padding: 10px;\r\n        border-radius: 5px;\r\n        z-index: 1000;\r\n        width: 100px;\r\n        text-align: middle;\r\n    }\r\n\r\n    .tooltip p {\r\n        margin: 5px 0;\r\n    }\r\n\r\n    .tooltip button {\r\n        margin-top: 10px;\r\n        padding: 5px 10px;\r\n        cursor: pointer;\r\n        background-color: #007bff;\r\n        color: white;\r\n        border: none;\r\n        border-radius: 4px;\r\n        transition: background-color 0.3s ease;\r\n    }\r\n\r\n    .tooltip button:hover {\r\n        background-color: #0056b3;\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./appSidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./appSidebar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./appSidebar.vue?vue&type=template&id=1d1af044&scoped=true\"\nimport script from \"./appSidebar.vue?vue&type=script&lang=js\"\nexport * from \"./appSidebar.vue?vue&type=script&lang=js\"\nimport style0 from \"./appSidebar.vue?vue&type=style&index=0&id=1d1af044&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d1af044\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-button',{staticClass:\"font\",on:{\"click\":_vm.openChat}},[_vm._v(\"打开聊天\")]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"title\":\"聊天室\",\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"chat-container\"},[_c('div',{staticClass:\"chat-header\"},[_c('p',[_vm._v(\"当前在线人数: \"+_vm._s(_vm.onlineUsers))])]),_c('div',{staticClass:\"chat-content\"},_vm._l((_vm.messages),function(message){return _c('div',{key:message.id,staticClass:\"chat-message\"},[_c('span',[_c('strong',[_vm._v(_vm._s(message.user)+\":\")]),_vm._v(\" \"+_vm._s(message.text))])])}),0),_c('div',{staticClass:\"chat-footer\"},[_c('el-button',{staticClass:\"emoji\",on:{\"click\":_vm.openEmojiPicker}},[_vm._v(\"😀\")]),_c('el-input',{attrs:{\"placeholder\":\"输入消息...\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendMessage.apply(null, arguments)}},model:{value:(_vm.newMessage),callback:function ($$v) {_vm.newMessage=$$v},expression:\"newMessage\"}}),_c('el-button',{on:{\"click\":_vm.sendMessage}},[_vm._v(\"发送\")])],1)])]),_c('el-dialog',{attrs:{\"visible\":_vm.emojiDialogVisible,\"title\":\"选择表情\",\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.emojiDialogVisible=$event}}},[_c('div',{staticClass:\"emoji-container\"},_vm._l((_vm.emojiArr),function(emoji){return _c('span',{key:emoji.className,on:{\"click\":function($event){return _vm.selectEmoji(emoji.icon)}}},[_vm._v(\" \"+_vm._s(emoji.icon)+\" \")])}),0)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let emojiArr = [{\r\n      className: 'bg-1f604',\r\n      icon: '😄'\r\n    },\r\n      {\r\n        className: 'bg-1f603',\r\n        icon: '😃'\r\n      },\r\n      {\r\n        className: 'bg-1f600',\r\n        icon: '😀'\r\n      },\r\n      {\r\n        className: 'bg-1f60a',\r\n        icon: '😊'\r\n      },\r\n      {\r\n        className: 'bg-1f609',\r\n        icon: '😉'\r\n      },\r\n      {\r\n        className: 'bg-1f60d',\r\n        icon: '😍'\r\n      },\r\n      {\r\n        className: 'bg-1f618',\r\n        icon: '😘'\r\n      },\r\n      {\r\n        className: 'bg-1f61a',\r\n        icon: '😚'\r\n      },\r\n      {\r\n        className: 'bg-1f617',\r\n        icon: '😗'\r\n      },\r\n      {\r\n        className: 'bg-1f619',\r\n        icon: '😙'\r\n      },\r\n      {\r\n        className: 'bg-1f61c',\r\n        icon: '😜'\r\n      },\r\n      {\r\n        className: 'bg-1f61d',\r\n        icon: '😝'\r\n      },\r\n      {\r\n        className: 'bg-1f61b',\r\n        icon: '😛'\r\n      },\r\n      {\r\n        className: 'bg-1f633',\r\n        icon: '😳'\r\n      },\r\n      {\r\n        className: 'bg-1f601',\r\n        icon: '😁'\r\n      },\r\n      {\r\n        className: 'bg-1f614',\r\n        icon: '😔'\r\n      },\r\n      {\r\n        className: 'bg-1f60c',\r\n        icon: '😌'\r\n      },\r\n      {\r\n        className: 'bg-1f612',\r\n        icon: '😒'\r\n      },\r\n      {\r\n        className: 'bg-1f61e',\r\n        icon: '😞'\r\n      },\r\n      {\r\n        className: 'bg-1f623',\r\n        icon: '😣'\r\n      },\r\n      {\r\n        className: 'bg-1f622',\r\n        icon: '😢'\r\n      },\r\n      {\r\n        className: 'bg-1f602',\r\n        icon: '😂'\r\n      },\r\n      {\r\n        className: 'bg-1f62d',\r\n        icon: '😭'\r\n      },\r\n      {\r\n        className: 'bg-1f62a',\r\n        icon: '😪'\r\n      },\r\n      {\r\n        className: 'bg-1f625',\r\n        icon: '😥'\r\n      },\r\n      {\r\n        className: 'bg-1f630',\r\n        icon: '😰'\r\n      },\r\n      {\r\n        className: 'bg-1f605',\r\n        icon: '😅'\r\n      },\r\n      {\r\n        className: 'bg-1f613',\r\n        icon: '😓'\r\n      },\r\n      {\r\n        className: 'bg-1f629',\r\n        icon: '😩'\r\n      },\r\n      {\r\n        className: 'bg-1f62b',\r\n        icon: '😫'\r\n      },\r\n      {\r\n        className: 'bg-1f628',\r\n        icon: '😨'\r\n      },\r\n      {\r\n        className: 'bg-1f631',\r\n        icon: '😱'\r\n      },\r\n      {\r\n        className: 'bg-1f620',\r\n        icon: '😠'\r\n      },\r\n      {\r\n        className: 'bg-1f621',\r\n        icon: '😡'\r\n      },\r\n      {\r\n        className: 'bg-1f624',\r\n        icon: '😤'\r\n      },\r\n      {\r\n        className: 'bg-1f616',\r\n        icon: '😖'\r\n      },\r\n      {\r\n        className: 'bg-1f606',\r\n        icon: '😆'\r\n      },\r\n      {\r\n        className: 'bg-1f60b',\r\n        icon: '😋'\r\n      },\r\n      {\r\n        className: 'bg-1f637',\r\n        icon: '😷'\r\n      },\r\n      {\r\n        className: 'bg-1f60e',\r\n        icon: '😎'\r\n      },\r\n      {\r\n        className: 'bg-1f634',\r\n        icon: '😴'\r\n      },\r\n      {\r\n        className: 'bg-1f635',\r\n        icon: '😵'\r\n      },\r\n      {\r\n        className: 'bg-1f632',\r\n        icon: '😲'\r\n      },\r\n      {\r\n        className: 'bg-1f61f',\r\n        icon: '😟'\r\n      },\r\n      {\r\n        className: 'bg-1f626',\r\n        icon: '😦'\r\n      },\r\n      {\r\n        className: 'bg-1f627',\r\n        icon: '😧'\r\n      },\r\n      {\r\n        className: 'bg-1f608',\r\n        icon: '😈'\r\n      },\r\n      {\r\n        className: 'bg-1f47f',\r\n        icon: '👿'\r\n      },\r\n      {\r\n        className: 'bg-1f62e',\r\n        icon: '😮'\r\n      },\r\n      {\r\n        className: 'bg-1f62c',\r\n        icon: '😬'\r\n      },\r\n      {\r\n        className: 'bg-1f610',\r\n        icon: '😐'\r\n      },\r\n      {\r\n        className: 'bg-1f615',\r\n        icon: '😕'\r\n      },\r\n      {\r\n        className: 'bg-1f62f',\r\n        icon: '😯'\r\n      },\r\n      {\r\n        className: 'bg-1f636',\r\n        icon: '😶'\r\n      },\r\n      {\r\n        className: 'bg-1f607',\r\n        icon: '😇'\r\n      },\r\n      {\r\n        className: 'bg-1f60f',\r\n        icon: '😏'\r\n      },\r\n      {\r\n        className: 'bg-1f611',\r\n        icon: '😑'\r\n      },\r\n      {\r\n        className: 'bg-1f63a',\r\n        icon: '😺'\r\n      },\r\n      {\r\n        className: 'bg-1f638',\r\n        icon: '😸'\r\n      },\r\n      {\r\n        className: 'bg-1f63b',\r\n        icon: '😻'\r\n      },\r\n      {\r\n        className: 'bg-1f63d',\r\n        icon: '😽'\r\n      },\r\n      {\r\n        className: 'bg-1f63c',\r\n        icon: '😼'\r\n      },\r\n\r\n      {\r\n        className: 'bg-1f640',\r\n        icon: '🙀'\r\n      },\r\n      {\r\n        className: 'bg-1f63f',\r\n        icon: '😿'\r\n      },\r\n      {\r\n        className: 'bg-1f639',\r\n        icon: '😹'\r\n      },\r\n      {\r\n        className: 'bg-1f63e',\r\n        icon: '😾'\r\n      },\r\n      {\r\n        className: 'bg-1f479',\r\n        icon: '👹'\r\n      },\r\n      {\r\n        className: 'bg-1f47a',\r\n        icon: '👺'\r\n      }\r\n]\r\nexport {\r\n  emojiArr\r\n}\r\n","<!--\r\n作者：Tzpeach3\r\n时间：2024-06-27\r\n描述：多人聊天组件，用于显示玩家聊天和实现物品资源共享。\r\n-->\r\n<template>\r\n    <div>\r\n        <!-- 打开聊天按钮 -->\r\n        <el-button class=\"font\" @click=\"openChat\">打开聊天</el-button>\r\n\r\n        <!-- 聊天室对话框 -->\r\n        <el-dialog :visible.sync=\"dialogVisible\" title=\"聊天室\" width=\"50%\">\r\n            <div class=\"chat-container\">\r\n                <!-- 聊天室头部，显示当前在线人数 -->\r\n                <div class=\"chat-header\">\r\n                    <p>当前在线人数: {{ onlineUsers }}</p>\r\n                </div>\r\n\r\n                <!-- 聊天内容展示区域 -->\r\n                <div class=\"chat-content\">\r\n                    <div v-for=\"message in messages\" :key=\"message.id\" class=\"chat-message\">\r\n                        <span><strong>{{ message.user }}:</strong> {{ message.text }}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- 聊天输入框及发送按钮 -->\r\n                <div class=\"chat-footer\">\r\n                    <el-button class=\"emoji\" @click=\"openEmojiPicker\">😀</el-button>\r\n                    <el-input v-model=\"newMessage\" placeholder=\"输入消息...\" @keydown.enter=\"sendMessage\"></el-input>\r\n                    <el-button @click=\"sendMessage\">发送</el-button>\r\n                </div>\r\n            </div>\r\n        </el-dialog>\r\n\r\n        <!-- 表情选择对话框 -->\r\n        <el-dialog :visible.sync=\"emojiDialogVisible\" title=\"选择表情\" width=\"70%\">\r\n            <div class=\"emoji-container\">\r\n                <span v-for=\"emoji in emojiArr\" :key=\"emoji.className\" @click=\"selectEmoji(emoji.icon)\">\r\n                    {{ emoji.icon }}\r\n                </span>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { emojiArr } from '../../../assets/js/emojiArr';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            dialogVisible: false,       // 控制聊天室对话框显示状态\r\n            emojiDialogVisible: false,  // 控制表情选择对话框显示状态\r\n            onlineUsers: '0',           // 当前在线人数\r\n            messages: [],               // 聊天消息列表\r\n            newMessage: '',             // 新消息输入\r\n            emojiArr,                   // 表情数组\r\n            ws: null                    // WebSocket 实例\r\n        };\r\n    },\r\n    created() {\r\n        // 组件创建时连接 WebSocket\r\n        this.connectToWebSocket();\r\n    },\r\n    methods: {\r\n        // 打开聊天室对话框\r\n        openChat() {\r\n            this.dialogVisible = true;\r\n        },\r\n\r\n        // 打开表情选择对话框\r\n        openEmojiPicker() {\r\n            this.emojiDialogVisible = true;\r\n        },\r\n\r\n        // 选择表情\r\n        selectEmoji(emoji) {\r\n            this.newMessage += emoji;\r\n        },\r\n\r\n        // 连接到 WebSocket\r\n        connectToWebSocket() {\r\n            // 使用玩家名称作为 WebSocket 连接地址\r\n            this.ws = new WebSocket('ws://10.78.250.34:8081/webSocket/' + localStorage.getItem('playerName'));\r\n\r\n            // WebSocket 打开时触发\r\n            this.ws.onopen = () => {\r\n                console.log('WebSocket connected');\r\n            };\r\n\r\n            // 接收到 WebSocket 消息时触发\r\n            this.ws.onmessage = (event) => {\r\n                try {\r\n                    let data = JSON.parse(event.data);\r\n                    switch (data.type) {\r\n                        case 'update':\r\n                            this.$root.$emit('update-item'); // 通知主组件拿走物品\r\n                            break;\r\n                        case 'message':\r\n                            this.messages.push(data);       // 添加新消息到列表\r\n                            break;\r\n                        case 'onlineUsers':\r\n                            this.onlineUsers = data.text;   // 更新在线用户数\r\n                            break;\r\n                        default:\r\n                            console.log('Unknown message type:', data);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error parsing JSON:', error);\r\n                }\r\n            };\r\n\r\n            // WebSocket 关闭时触发\r\n            this.ws.onclose = () => {\r\n                console.log('WebSocket closed');\r\n                this.onlineUsers = '0';  // 在线用户数置为 0\r\n            };\r\n\r\n            // WebSocket 错误时触发\r\n            this.ws.onerror = (error) => {\r\n                console.log('WebSocket error:', error);\r\n            };\r\n        },\r\n\r\n        // 发送消息\r\n        sendMessage() {\r\n            // 确保输入非空白消息后发送\r\n            if (this.newMessage.trim() !== '') {\r\n                this.sendMessageToServer({\r\n                    type: 'message',\r\n                    text: this.newMessage,\r\n                    user: this.getPlayerName()  // 获取当前玩家名称\r\n                });\r\n                this.newMessage = '';  // 清空消息输入框\r\n            }\r\n        },\r\n\r\n        // 发送消息到服务器\r\n        sendMessageToServer(message) {\r\n            this.ws.send(JSON.stringify(message));  // 发送 JSON 格式的消息\r\n        },\r\n\r\n        // 获取当前玩家名称\r\n        getPlayerName() {\r\n            return localStorage.getItem('playerName') || '未知用户';\r\n        }\r\n    },\r\n\r\n    // 组件销毁前关闭 WebSocket 连接\r\n    beforeDestroy() {\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.font {\r\n    font-size: 18px; \r\n}\r\n\r\n.chat-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 400px;  \r\n}\r\n\r\n.chat-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.chat-content {\r\n    background-color: rgb(240, 233, 225); \r\n    flex: 1;\r\n    overflow-y: auto; \r\n}\r\n\r\n.chat-message {\r\n    margin: 5px 0;  \r\n}\r\n\r\n.chat-footer {\r\n    display: flex;  \r\n}\r\n\r\n.emoji-container {\r\n    display: flex;\r\n    flex-wrap: wrap;  \r\n}\r\n\r\n.emoji-container span {\r\n    cursor: pointer;\r\n    margin: 10px;  \r\n    font-size: 24px;  \r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chatMain.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chatMain.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./chatMain.vue?vue&type=template&id=f4de27ca&scoped=true\"\nimport script from \"./chatMain.vue?vue&type=script&lang=js\"\nexport * from \"./chatMain.vue?vue&type=script&lang=js\"\nimport style0 from \"./chatMain.vue?vue&type=style&index=0&id=f4de27ca&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f4de27ca\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n作者: Tzpeach3\r\n日期: 2024-06-27\r\n作用: 游戏主页面组件。用户可以在这里进行游戏操作，包括移动角色、查看对话和退出游戏等。\r\n-->\r\n\r\n<template>\r\n    <el-container class=\"home-container\">\r\n        <el-container>\r\n            <el-main class=\"main-content\">\r\n                <!-- 主内容组件，显示当前房间内容 -->\r\n                <main-content :currentRoomId=\"currentRoomId\"></main-content>\r\n                <!-- 聊天组件 -->\r\n                <div class=\"main-chat\"><main-chat></main-chat></div>\r\n                <!-- 控制按钮 -->\r\n                <div class=\"button-container\">  \r\n                    <el-button class=\"exit\" @click=\"showExitDialog = true\">退出游戏</el-button>\r\n                    <el-button class=\"back\" @click=\"move('back')\">返回</el-button>\r\n                </div>\r\n                <!-- 对话框 -->\r\n                <div class=\"dialog-container\">\r\n                    <div class=\"dialog\">\r\n                        <div class=\"dialog-content\">\r\n                            <img width=\"100px\" src=\"../../assets/images/npc.jpg\" alt=\"\">\r\n                            <div class=\"text-display\">\r\n                                <p>{{ displayedText }}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"controls\">\r\n                            <div class=\"row\">\r\n                                <el-button class=\"north\" @click=\"move('north')\">北</el-button>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <el-button class=\"west\" @click=\"move('west')\">西</el-button>\r\n                                <el-button class=\"stay\" @click=\"move('stay')\">S</el-button>\r\n                                <el-button class=\"east\" @click=\"move('east')\">东</el-button>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <el-button class=\"south\" @click=\"move('south')\">南</el-button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </el-main>\r\n            <el-aside width=\"300px\" class=\"sidebar-container\">\r\n                <app-sidebar></app-sidebar>\r\n                <img src=\"../../assets/images/Zoo.png\" alt=\"\">\r\n                <!-- 当前所在位置显示 -->\r\n                <h2 class=\"location\"><span>{{ locationMap[currentRoomId] }}</span></h2>\r\n            </el-aside>\r\n        </el-container>\r\n\r\n        <!-- 确认退出对话框 -->\r\n        <el-dialog\r\n            title=\"确认退出\"\r\n            :visible.sync=\"showExitDialog\"\r\n            width=\"30%\"\r\n            @close=\"showExitDialog = false\">\r\n            <span>您确定要退出游戏吗？</span>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"showExitDialog = false\">取消</el-button>\r\n                <el-button type=\"primary\" @click=\"confirmExit\">确认</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\n    import MainContent from './game/mainContent.vue';\r\n    import AppSidebar from './game/appSidebar.vue';\r\n    import MainChat from './chat/chatMain.vue';\r\n    import axios from 'axios';\r\n\r\n    export default {\r\n        name: 'home-main',\r\n        components: {\r\n            MainContent,\r\n            AppSidebar,\r\n            MainChat\r\n        },\r\n        data() {\r\n            return {\r\n                playerInfo: null,\r\n                currentRoomId: 1, // 当前房间ID\r\n                dialogContent: `欢迎进入《勇闯动物园》!${this.getPlayerName()}`,\r\n                displayedText: '',\r\n                displayTimeout: null,\r\n                locationMap: {\r\n                    1: '入口',\r\n                    2: '猴子园区',\r\n                    3: '狮子园区',\r\n                    4: '大象园区',\r\n                    5: '熊猫园区',\r\n                    6: '出口'\r\n                },\r\n                visitedDirection: [], // 记录访问过的方向\r\n                backDirection: '',\r\n                showExitDialog: false // 控制退出对话框的显示\r\n            };\r\n        },\r\n        created() {\r\n            this.displayedText = '';\r\n            this.startTextAnimation();\r\n            this.fetchUserInfo();\r\n            this.listenFeedItem();\r\n            this.listenUseItem();\r\n            this.listenTakeItem();\r\n            this.listenDropItem();\r\n        },\r\n        methods: {\r\n            // 监听喂食事件\r\n            listenFeedItem() {\r\n                this.$root.$on('feed-item', () => {\r\n                    this.dialogContent = this.getPlayMessage();\r\n                    this.displayedText = '';\r\n                    this.startTextAnimation();\r\n                    this.fetchUserInfo();\r\n                });\r\n            },\r\n            // 监听使用物品事件\r\n            listenUseItem() {\r\n                this.$root.$on('use-item', () => {\r\n                    this.dialogContent = this.getPlayMessage();\r\n                    this.displayedText = '';\r\n                    this.startTextAnimation();\r\n                });\r\n            },\r\n            // 监听拾取物品事件\r\n            listenTakeItem() {\r\n                this.$root.$on('take-item', () => {\r\n                    this.dialogContent = this.getPlayMessage();\r\n                    this.displayedText = '';\r\n                    this.startTextAnimation();\r\n                    this.fetchUserInfo();\r\n                });\r\n            },\r\n            // 监听丢弃物品事件\r\n            listenDropItem() {\r\n                this.$root.$on('drop-item', () => {\r\n                    this.dialogContent = this.getPlayMessage();\r\n                    this.displayedText = '';\r\n                    this.startTextAnimation();\r\n                    this.fetchUserInfo();\r\n                });\r\n            },\r\n            // 获取玩家名称\r\n            getPlayerName() {\r\n                return localStorage.getItem('playerName');\r\n            },\r\n            // 获取玩家Token\r\n            getPlayToken() {\r\n                return localStorage.getItem('token');\r\n            },\r\n            // 获取游戏消息\r\n            getPlayMessage() {\r\n                return localStorage.getItem('message');\r\n            },\r\n            // 获取用户信息\r\n            async fetchUserInfo() {\r\n                const playerName = this.getPlayerName();\r\n                const token = this.getPlayToken();\r\n                if (!playerName || !token) {\r\n                    console.error('本地存储中没有找到 playerName 或 token');\r\n                    return;\r\n                }\r\n                try {\r\n                    const response = await axios.post(\r\n                        'http://10.78.250.34:8081/player/getPlayerInfo',\r\n                        { playerName: playerName },\r\n                        { headers: { 'token': token } }\r\n                    );\r\n                    if (response.data.code === 200) {\r\n                        this.playerInfo = response.data.data;\r\n                        this.currentRoomId = this.playerInfo.currentRoomID;\r\n                    } else {\r\n                        console.error('获取用户信息出错:', response.data.message);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('请求出错:', error);\r\n                }\r\n            },\r\n            // 移动角色\r\n            async move(direction) {\r\n                if (this.displayTimeout) {\r\n                    clearTimeout(this.displayTimeout);\r\n                    this.displayTimeout = null;\r\n                    this.displayedText = this.dialogContent;\r\n                }\r\n\r\n                const playerName = this.getPlayerName();\r\n                const token = this.getPlayToken();\r\n                const directionsMap = {\r\n                    'east': 0,\r\n                    'south': 1,\r\n                    'west': 2,\r\n                    'north': 3,\r\n                    'stay': 4,\r\n                    'back': 5\r\n                };\r\n                const directionsBack = {\r\n                    'west': 'east',\r\n                    'north': 'south',\r\n                    'east': 'west',\r\n                    'south': 'north',\r\n                };\r\n                const locationMap = {\r\n                    1: '入口',\r\n                    2: '猴子园区',\r\n                    3: '狮子园区',\r\n                    4: '大象园区',\r\n                    5: '熊猫园区',\r\n                    6: '出口'\r\n                };\r\n\r\n                if (!playerName || !token) {\r\n                    console.error('本地存储中没有找到 playerName 或 token');\r\n                    return;\r\n                }\r\n\r\n                try {\r\n                    if (direction === 'back') {\r\n                        if (this.visitedDirection.length > 0) {\r\n                            const previousDirection = this.visitedDirection.pop();\r\n                            this.backDirection = directionsBack[previousDirection];\r\n                            const response = await axios.post('http://10.78.250.34:8081/room/go', {\r\n                                playerName: playerName,\r\n                                direction: directionsMap[this.backDirection],\r\n                            }, {\r\n                                headers: { 'token': token }\r\n                            });\r\n\r\n                            if (response.data.code === 200) {\r\n                                const roomData = response.data.data;\r\n                                this.currentRoomId = roomData.roomID;\r\n                                this.dialogContent = `你回到了${roomData.roomName}。 ${roomData.description}`;\r\n                            } else this.dialogContent = `无法往${this.getDirectionText(direction)}走，你现在在${locationMap[this.currentRoomId]}。`;\r\n                        } else {\r\n                            this.dialogContent = `无法返回,你已经到了最初的地方。`;\r\n                        }\r\n                    } else {\r\n                        const response = await axios.post('http://10.78.250.34:8081/room/go', {\r\n                            playerName: playerName,\r\n                            direction: directionsMap[direction],\r\n                        }, {\r\n                            headers: { 'token': token }\r\n                        });\r\n\r\n                        if (response.data.code === 200) {\r\n                            const roomData = response.data.data;\r\n                            this.visitedDirection.push(direction);\r\n                            this.currentRoomId = roomData.roomID;\r\n                            this.dialogContent = `往${this.getDirectionText(direction)}走，你来到了${roomData.roomName}。 ${roomData.description}`;\r\n                        } else {\r\n                            if (directionsMap[direction] === 4)\r\n                                this.dialogContent = `你停留在原地，你现在在${locationMap[this.currentRoomId]}。`;\r\n                            else this.dialogContent = `无法往${this.getDirectionText(direction)}走，你现在在${locationMap[this.currentRoomId]}。`;\r\n                        }\r\n                    }\r\n                } catch (error) {\r\n                    console.error('请求出错:', error);\r\n                }\r\n\r\n                this.displayedText = '';\r\n                this.startTextAnimation();\r\n            },\r\n            // 开始对话文本动画\r\n            startTextAnimation() {\r\n                let index = 0;\r\n                const animate = () => {\r\n                    if (index < this.dialogContent.length) {\r\n                        this.displayedText += this.dialogContent[index++];\r\n                        this.displayTimeout = setTimeout(animate, 50);\r\n                    } else {\r\n                        this.displayTimeout = null;\r\n                    }\r\n                };\r\n                animate();\r\n            },\r\n            // 获取方向文本\r\n            getDirectionText(direction) {\r\n                const directionTexts = {\r\n                    'east': '东',\r\n                    'south': '南',\r\n                    'west': '西',\r\n                    'north': '北',\r\n                };\r\n                return directionTexts[direction];\r\n            },\r\n            // 退出游戏\r\n            exitGame() {\r\n                this.showExitDialog = true;\r\n            },\r\n            // 确认退出\r\n            confirmExit() {\r\n                localStorage.removeItem('playerName');\r\n                localStorage.removeItem('token');\r\n                this.$router.push('/login-main');\r\n            }\r\n        },\r\n        beforeDestroy() {\r\n            if (this.displayTimeout) {\r\n                clearTimeout(this.displayTimeout);\r\n                this.displayTimeout = null;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .location {\r\n        position: relative;\r\n        left: 35%;\r\n        top: -36%;\r\n    }\r\n\r\n    .home-container {\r\n        background: url(\"../../assets/images/background.png\") no-repeat;\r\n        background-size: 100%;\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: absolute;\r\n    }\r\n\r\n    .main-content {\r\n        flex: 1;\r\n        width: 95%;\r\n        height: 80%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: flex-end;\r\n    }\r\n\r\n    .main-chat {\r\n        display: flex;\r\n        flex-direction: row-reverse;\r\n    }\r\n\r\n    .dialog-container {\r\n        margin-top: auto;\r\n        height: 150px;\r\n        width: 100%;\r\n        background-color: #fff;\r\n        box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    .sidebar-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .dialog {\r\n        background-color: #fff;\r\n        padding: 10px;\r\n        box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.1);\r\n        border-radius: 10px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n    }\r\n\r\n    .dialog-content {\r\n        flex: 1;\r\n    }\r\n\r\n    .controls {\r\n        margin-left: 20px;\r\n        display: flex;\r\n        align-items: center;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .row {\r\n        display: flex;\r\n        justify-content: space-around;\r\n        align-items: center;\r\n        width: 100%;\r\n    }\r\n\r\n    .north {\r\n        font-size: 18px;\r\n        padding: 10px 10px;\r\n    }\r\n\r\n    .east,\r\n    .west {\r\n        font-size: 18px;\r\n        padding: 10px 10px;\r\n    }\r\n\r\n    .stay {\r\n        font-size: 18px;\r\n        padding: 10px 13px;\r\n        margin-top: 10px;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .south {\r\n        font-size: 18px;\r\n        padding: 10px 10px;\r\n    }\r\n\r\n    .text-display {\r\n        display: inline-block;\r\n        font-size: 16px;\r\n        padding-top: 0px;\r\n        line-height: 1.5;\r\n    }\r\n\r\n    .button-container {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 10px;\r\n    }\r\n\r\n    .back,\r\n    .exit {\r\n        font-size: 18px;\r\n        padding: 10px 10px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeMain.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeMain.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./homeMain.vue?vue&type=template&id=86cd2164&scoped=true\"\nimport script from \"./homeMain.vue?vue&type=script&lang=js\"\nexport * from \"./homeMain.vue?vue&type=script&lang=js\"\nimport style0 from \"./homeMain.vue?vue&type=style&index=0&id=86cd2164&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"86cd2164\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","currentRoomId","on","$event","showExitDialog","_v","move","require","_s","displayedText","locationMap","slot","confirmExit","staticRenderFns","style","backgroundImage","concat","currentLocation","items","length","_l","item","index","key","id","showTooltip","hideTooltip","imageId","name","tooltipIndex","takingItem","_e","description","weight","isMagic","stopPropagation","takeItem","props","type","Number","required","data","zooGate","monkeyZone","lionZone","elephantZone","panadaZone","zooExport","itemMap","mapImage","color","borderColor","bananaImage","cookieImage","meatImage","shitImage","computed","watch","handler","newVal","updateLocation","immediate","created","listenDropItem","listenUpdateItem","methods","_this","$root","$on","_this2","roomId","_this3","token","localStorage","getItem","axios","post","roomID","headers","then","response","responseData","code","map","itemID","itemName","$set","console","error","message","_this4","playerName","setItem","splice","$emit","component","usedWeight","totalWeight","displayedInventory","backgroundColor","border","toggleDropConfirmation","confirmingDrop","dropItem","useItem","feedItem","emptySlots","n","isMapLayerVisible","visible","closeMapLayer","Boolean","components","MapLayer","inventory","地图","香蕉","魔法饼干","生肉","大便","maxDisplayItems","itemToDropIndex","slice","_objectSpread","Math","max","listenTakeItem","fetchPlayerInfo","fetchInventoryItems","_this5","_this6","_this7","currentWeight","maxCarryWeight","_this8","reduce","acc","selectItem","log","mounted","openChat","dialogVisible","onlineUsers","messages","user","text","openEmojiPicker","indexOf","_k","keyCode","sendMessage","apply","arguments","model","value","newMessage","callback","$$v","expression","emojiDialogVisible","emojiArr","emoji","className","selectEmoji","icon","ws","connectToWebSocket","WebSocket","onopen","onmessage","event","JSON","parse","push","onclose","onerror","trim","sendMessageToServer","getPlayerName","send","stringify","beforeDestroy","close","MainContent","AppSidebar","MainChat","playerInfo","dialogContent","displayTimeout","visitedDirection","backDirection","startTextAnimation","fetchUserInfo","listenFeedItem","listenUseItem","getPlayMessage","getPlayToken","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","sent","currentRoomID","t0","stop","direction","_callee2","directionsMap","directionsBack","previousDirection","roomData","_response","_roomData","_context2","clearTimeout","pop","roomName","getDirectionText","animate","setTimeout","directionTexts","exitGame","removeItem","$router"],"sourceRoot":""}